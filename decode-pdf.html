<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Base64 → PDF Decoder</title>
<style>
  body{background:#0b0d10;color:#e6e9ef;font-family:sans-serif;padding:2rem;}
  h1{color:#4cc9f0;margin-bottom:.5rem;}
  textarea{width:100%;height:300px;padding:1rem;font-family:monospace;border-radius:.5rem;border:1px solid #232734;background:#0f1218;color:#d9f7ff;resize:vertical;}
  button{padding:.6rem 1rem;margin-top:.5rem;margin-right:.5rem;border:none;border-radius:.5rem;cursor:pointer;background:#4cc9f0;color:#041015;font-weight:700;}
  button:hover{filter:brightness(1.1);}
  p{margin:.5rem 0;}
</style>
</head>
<body>
<h1>Base64 → PDF Decoder</h1>
<p>Paste your Base64-encoded PDF (from PyPDF, ReportLab, or any generator) below:</p>
<textarea id="b64input" placeholder="Paste base64 string here…"></textarea>
<div>
  <button id="downloadBtn">Decode & Download PDF</button>
  <button id="clearBtn">Clear</button>
</div>
<p id="status"></p>

<script>
const downloadBtn = document.getElementById("downloadBtn");
const clearBtn = document.getElementById("clearBtn");
const status = document.getElementById("status");
const b64input = document.getElementById("b64input");

downloadBtn.addEventListener("click", ()=>{
    let b64 = b64input.value.trim().replace(/\s+/g, "");
    if(!b64){
        status.textContent = "Paste a Base64 string first!";
        return;
    }
    try{
        const binary = atob(b64);
        const len = binary.length;
        const bytes = new Uint8Array(len);
        for(let i=0;i<len;i++) bytes[i] = binary.charCodeAt(i);
        const blob = new Blob([bytes], {type:"application/pdf"});
        const a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "decoded.pdf";
        a.click();
        URL.revokeObjectURL(a.href);
        status.textContent = "PDF decoded and download triggered!";
    } catch(e){
        console.error(e);
        status.textContent = "Error decoding base64. Check the string.";
    }
});

clearBtn.addEventListener("click", ()=>{
    b64input.value = "";
    status.textContent = "";
});
</script>
</body>
</html>
